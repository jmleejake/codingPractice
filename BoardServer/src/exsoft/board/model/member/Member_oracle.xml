<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="Member">
	
	<typeAlias alias="Member" type="exsoft.board.model.member.MemberDto"/>
	
	<update id="insertMember" parameterClass="Member">
		insert into member(
			mid,
			mpw,
			mname,
			mtel,
			mjuso
		)
		values (
			#mid#, #mpw#, #mname#, #mtel#, #mjuso#
		)
	</update>
	
	<select id="selectMember" parameterClass="Member" resultClass="Member">
		select *
		from member
		where mid = #mid# and mpw = #mpw#
	</select>
	
	<update id="updateMember" parameterClass="Member">
		update member set
			mpw = #mpw#,
			mname = #mname#,
			mtel = #mtel#,
			mjuso = #mjuso#
		where
			mid = #mid#
	</update>
	
	<delete id="deleteMember" parameterClass="Member">
		delete from member where mid = #mid# and mpw = #mpw#
	</delete>
	
	<select id="getName" parameterClass="java.lang.String" resultClass="java.lang.String">
		select mname
		from member
		where mid = #mid#
	</select>
	
	<select id="getOtherName" parameterClass="java.lang.String" resultClass="Member">
		select mid, mname
  		from member
  		where NOT mid = #mid#
	</select>
	
	<select id="idDuplicate" parameterClass="java.lang.String" resultClass="java.lang.String">
		select mid
		from member
		where mid = #mid#
	</select>
	
	<select id="pwOK" parameterClass="Member" resultClass="java.lang.Integer">
		select count(*)
		from member
		where mid = #mid# and mpw = #mpw#
	</select>
	
	<select id="getId" parameterClass="java.lang.String" resultClass="java.lang.String">
		select mid
		from member
		where mname = #mname#
	</select>
	
</sqlMap>