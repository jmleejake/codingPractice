<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="Teller">
  <typeAlias alias="Teller" type="bank.model.teller.TellerBean"/>
  <resultMap id="TellerResult" class="Teller">
    <result property="tlrNum" column="tlrNum"/>
    <result property="tlrId" column="tlrId"/> 
    <result property="tlrPw" column="tlrPw"/>
    <result property="tlrName" column="tlrName"/> 
    <result property="tlrRrn" column="tlrRrn"/>
    <result property="tlrTel" column="tlrTel"/>
    <result property="tlrCel" column="tlrCel"/>
    <result property="tlrAddr" column="tlrAddr"/>
    <result property="tlrEmail" column="tlrEmail"/>
  </resultMap>
  <select id="getAllRetrieveTlr" resultMap="TellerResult">
    select * from Teller ORDER BY tlrNum asc
  </select>
  <select id="getRetrieveTlr" parameterClass="java.lang.String" resultClass="Teller">
    select
      tlrNum as tlrNum,
      tlrId as tlrId,
      tlrPw as tlrPw,
      tlrName as tlrName,
      tlrRrn as tlrRrn,
      tlrTel as tlrTel,
      tlrCel as tlrCel,
      tlrAddr as tlrAddr,
      tlrEmail as tlrEmail    
    from teller
    where tlrId = #tlrId#    
  </select>
  <select id="getRetrieveTlrId" parameterClass="java.lang.String" resultClass="java.lang.String">
    select
      tlrId as tlrId
    from teller
    where tlrId = #tlrId#    
  </select>  
  <select id="getModRetrieveTlr" parameterClass="Teller" resultClass="Teller">
    select     
      tlrNum as tlrNum,
      tlrId as tlrId,
      tlrPw as tlrPw,
      tlrName as tlrName,
      tlrRrn as tlrRrn,
      tlrTel as tlrTel,
      tlrCel as tlrCel,
      tlrAddr as tlrAddr,
      tlrEmail as tlrEmail         
    from teller
    where tlrId = #tlrId# and tlrPw = #tlrPw#   
  </select> 
  <update id="setRegisterTlr" parameterClass="Teller">
    insert into teller (
      tlrNum,
      tlrId,
      tlrPw,
      tlrName,
      tlrRrn,
      tlrTel,
      tlrCel,
      tlrAddr,
      tlrEmail
      )
    values (
     seq_teller.nextval,#tlrId#, #tlrPw#, #tlrName#, #tlrRrn#, #tlrTel#, #tlrCel#, #tlrAddr#, #tlrEmail#
    	)    
  </update>
  <update id="setModifyTlr" parameterClass="Teller">
    update teller set      
      tlrTel= #tlrTel#, 
      tlrCel= #tlrCel#,
      tlrAddr= #tlrAddr#,
      tlrEmail= #tlrEmail#           
    where
      tlrId = #tlrId# and tlrPw = #tlrPw#
  </update>
  <delete id="setRemoveTlr" parameterClass="java.lang.String">
    delete from teller where tlrPw = #tlrPw#
  </delete>
  
</sqlMap>